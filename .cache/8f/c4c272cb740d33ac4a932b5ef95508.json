{"id":"node_modules/@snap/camera-kit/lib/handlers/defaultFetchHandler.js","dependencies":[{"name":"C:\\Users\\aesta\\Documents\\GitHub\\VM_POC_V02\\node_modules\\@snap\\camera-kit\\lib\\handlers\\defaultFetchHandler.js.map","includedInParent":true,"mtime":1689894620889},{"name":"C:\\Users\\aesta\\Documents\\GitHub\\VM_POC_V02\\package.json","includedInParent":true,"mtime":1689971043690},{"name":"C:\\Users\\aesta\\Documents\\GitHub\\VM_POC_V02\\node_modules\\@snap\\camera-kit\\package.json","includedInParent":true,"mtime":1689894620849},{"name":"../dependency-injection/Injectable","loc":{"line":1,"column":27,"index":27},"parent":"C:\\Users\\aesta\\Documents\\GitHub\\VM_POC_V02\\node_modules\\@snap\\camera-kit\\lib\\handlers\\defaultFetchHandler.js","resolved":"C:\\Users\\aesta\\Documents\\GitHub\\VM_POC_V02\\node_modules\\@snap\\camera-kit\\lib\\dependency-injection\\Injectable.js"},{"name":"./debugHandler","loc":{"line":2,"column":35,"index":100},"parent":"C:\\Users\\aesta\\Documents\\GitHub\\VM_POC_V02\\node_modules\\@snap\\camera-kit\\lib\\handlers\\defaultFetchHandler.js","resolved":"C:\\Users\\aesta\\Documents\\GitHub\\VM_POC_V02\\node_modules\\@snap\\camera-kit\\lib\\handlers\\debugHandler.js"},{"name":"./HandlerChainBuilder","loc":{"line":3,"column":36,"index":154},"parent":"C:\\Users\\aesta\\Documents\\GitHub\\VM_POC_V02\\node_modules\\@snap\\camera-kit\\lib\\handlers\\defaultFetchHandler.js","resolved":"C:\\Users\\aesta\\Documents\\GitHub\\VM_POC_V02\\node_modules\\@snap\\camera-kit\\lib\\handlers\\HandlerChainBuilder.js"},{"name":"./noCorsRetryingFetchHandler","loc":{"line":4,"column":49,"index":228},"parent":"C:\\Users\\aesta\\Documents\\GitHub\\VM_POC_V02\\node_modules\\@snap\\camera-kit\\lib\\handlers\\defaultFetchHandler.js","resolved":"C:\\Users\\aesta\\Documents\\GitHub\\VM_POC_V02\\node_modules\\@snap\\camera-kit\\lib\\handlers\\noCorsRetryingFetchHandler.js"},{"name":"./retryingHandler","loc":{"line":5,"column":38,"index":298},"parent":"C:\\Users\\aesta\\Documents\\GitHub\\VM_POC_V02\\node_modules\\@snap\\camera-kit\\lib\\handlers\\defaultFetchHandler.js","resolved":"C:\\Users\\aesta\\Documents\\GitHub\\VM_POC_V02\\node_modules\\@snap\\camera-kit\\lib\\handlers\\retryingHandler.js"},{"name":"./timeoutHandler","loc":{"line":6,"column":37,"index":356},"parent":"C:\\Users\\aesta\\Documents\\GitHub\\VM_POC_V02\\node_modules\\@snap\\camera-kit\\lib\\handlers\\defaultFetchHandler.js","resolved":"C:\\Users\\aesta\\Documents\\GitHub\\VM_POC_V02\\node_modules\\@snap\\camera-kit\\lib\\handlers\\timeoutHandler.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.defaultFetchHandlerFactory = void 0;\nvar _Injectable = require(\"../dependency-injection/Injectable\");\nvar _debugHandler = require(\"./debugHandler\");\nvar _HandlerChainBuilder = require(\"./HandlerChainBuilder\");\nvar _noCorsRetryingFetchHandler = require(\"./noCorsRetryingFetchHandler\");\nvar _retryingHandler = require(\"./retryingHandler\");\nvar _timeoutHandler = require(\"./timeoutHandler\");\n/**\n * The default Fetch implementation, used to make a simple HTTP requests without any custom headers. This can be passed\n * to `HandlerChainBuilder` to form the basis for other Fetch implementations (e.g. with custom headers, which extract\n * the Response body, etc.)\n *\n * Has support for retries, client-side timeout, and navigating federated auth flows that may not support CORs requests.\n *\n * @internal\n */\nconst defaultFetchHandlerFactory = (0, _Injectable.Injectable)(\"defaultFetchHandler\", () => {\n  return (\n    // Safety: We're re-typing fetch's second argument from `init?: RequestInit | undefined` to\n    // `init: RequestInit | void` – this is semantically equivalent, but the void makes for nicer ergonomics\n    // elsewhere (e.g. so that callers can omit the second argument instead of being forced to pass undefined).\n    new _HandlerChainBuilder.HandlerChainBuilder(fetch).map((0, _debugHandler.createDebugHandler)()).map((0, _noCorsRetryingFetchHandler.createNoCorsRetryingFetchHandler)()).map((0, _retryingHandler.createRetryingHandler)())\n    // TODO: completely arbitrary timeout -- this should be configurable by consumers, and we should think\n    // about a sane default timeout UX... it's probably less than 10 seconds.\n    .map((0, _timeoutHandler.createTimeoutHandler)({\n      timeout: 10 * 1000\n    })).handler\n  );\n});\nexports.defaultFetchHandlerFactory = defaultFetchHandlerFactory;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":0}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":4}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":15}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":18}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":25}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":0}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":4}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":17}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":20}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":27}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":9,"column":0}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":9,"column":4}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":9,"column":24}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":9,"column":27}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":9,"column":34}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":10,"column":0}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":10,"column":4}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":10,"column":31}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":10,"column":34}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":10,"column":41}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":11,"column":0}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":11,"column":4}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":11,"column":20}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":11,"column":23}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":11,"column":30}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":12,"column":0}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":12,"column":4}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":12,"column":19}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":12,"column":22}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":12,"column":29}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":13,"column":0}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":20,"column":7},"generated":{"line":22,"column":0}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":20,"column":13},"generated":{"line":22,"column":6}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":20,"column":39},"generated":{"line":22,"column":32}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":20,"column":42},"generated":{"line":22,"column":35}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":20,"column":42},"generated":{"line":22,"column":39}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":20,"column":52},"generated":{"line":22,"column":61}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":20,"column":53},"generated":{"line":22,"column":63}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":20,"column":74},"generated":{"line":22,"column":84}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":20,"column":76},"generated":{"line":22,"column":86}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":20,"column":81},"generated":{"line":22,"column":92}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":21,"column":4},"generated":{"line":23,"column":2}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":22,"column":8},"generated":{"line":24,"column":4}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":23,"column":8},"generated":{"line":25,"column":4}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":26,"column":4}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":25,"column":8},"generated":{"line":27,"column":4}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":25,"column":12},"generated":{"line":27,"column":8}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":25,"column":31},"generated":{"line":27,"column":48}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":25,"column":80},"generated":{"line":27,"column":49}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":25,"column":85},"generated":{"line":27,"column":54}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":25,"column":86},"generated":{"line":27,"column":55}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":26,"column":13},"generated":{"line":27,"column":56}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":26,"column":16},"generated":{"line":27,"column":59}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":26,"column":17},"generated":{"line":27,"column":60}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":26,"column":17},"generated":{"line":27,"column":64}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":26,"column":35},"generated":{"line":27,"column":96}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":26,"column":35},"generated":{"line":27,"column":98}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":26,"column":37},"generated":{"line":27,"column":99}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":26,"column":38},"generated":{"line":27,"column":100}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":27,"column":13},"generated":{"line":27,"column":101}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":27,"column":16},"generated":{"line":27,"column":104}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":27,"column":17},"generated":{"line":27,"column":105}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":27,"column":17},"generated":{"line":27,"column":109}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":27,"column":49},"generated":{"line":27,"column":169}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":27,"column":49},"generated":{"line":27,"column":171}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":27,"column":51},"generated":{"line":27,"column":172}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":27,"column":52},"generated":{"line":27,"column":173}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":27,"column":174}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":28,"column":16},"generated":{"line":27,"column":177}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":28,"column":17},"generated":{"line":27,"column":178}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":28,"column":17},"generated":{"line":27,"column":182}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":28,"column":38},"generated":{"line":27,"column":220}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":28,"column":38},"generated":{"line":27,"column":222}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":28,"column":40},"generated":{"line":27,"column":223}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":30,"column":12},"generated":{"line":28,"column":4}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":31,"column":12},"generated":{"line":29,"column":4}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":31,"column":12},"generated":{"line":30,"column":4}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":32,"column":13},"generated":{"line":30,"column":5}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":32,"column":16},"generated":{"line":30,"column":8}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":32,"column":17},"generated":{"line":30,"column":9}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":32,"column":17},"generated":{"line":30,"column":13}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":32,"column":37},"generated":{"line":30,"column":49}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":32,"column":38},"generated":{"line":30,"column":51}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":32,"column":40},"generated":{"line":31,"column":6}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":32,"column":47},"generated":{"line":31,"column":13}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":32,"column":49},"generated":{"line":31,"column":15}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":32,"column":51},"generated":{"line":31,"column":17}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":32,"column":54},"generated":{"line":31,"column":20}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":32,"column":58},"generated":{"line":32,"column":4}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":32,"column":60},"generated":{"line":32,"column":5}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":32,"column":61},"generated":{"line":32,"column":6}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":32,"column":62},"generated":{"line":32,"column":7}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":32,"column":63},"generated":{"line":32,"column":8}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":32,"column":70},"generated":{"line":33,"column":2}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":34,"column":0},"generated":{"line":34,"column":0}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":34,"column":1},"generated":{"line":34,"column":1}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":34,"column":2}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":34,"column":3},"generated":{"line":35,"column":0}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":34,"column":3},"generated":{"line":35,"column":7}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":34,"column":3},"generated":{"line":35,"column":8}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":34,"column":3},"generated":{"line":35,"column":34}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":34,"column":3},"generated":{"line":35,"column":37}},{"source":"../../src/handlers/defaultFetchHandler.ts","name":null,"original":{"line":34,"column":3},"generated":{"line":35,"column":63}}],"sources":{"../../src/handlers/defaultFetchHandler.ts":"import { Injectable } from \"../dependency-injection/Injectable\";\nimport { createDebugHandler } from \"./debugHandler\";\nimport { HandlerChainBuilder } from \"./HandlerChainBuilder\";\nimport { createNoCorsRetryingFetchHandler } from \"./noCorsRetryingFetchHandler\";\nimport { createRetryingHandler } from \"./retryingHandler\";\nimport { createTimeoutHandler } from \"./timeoutHandler\";\n\nexport type FetchHandler<R = Response> = (input: RequestInfo, init?: RequestInit) => Promise<R>;\n\n/**\n * The default Fetch implementation, used to make a simple HTTP requests without any custom headers. This can be passed\n * to `HandlerChainBuilder` to form the basis for other Fetch implementations (e.g. with custom headers, which extract\n * the Response body, etc.)\n *\n * Has support for retries, client-side timeout, and navigating federated auth flows that may not support CORs requests.\n *\n * @internal\n */\n\nexport const defaultFetchHandlerFactory = Injectable(\"defaultFetchHandler\", () => {\n    return (\n        // Safety: We're re-typing fetch's second argument from `init?: RequestInit | undefined` to\n        // `init: RequestInit | void` – this is semantically equivalent, but the void makes for nicer ergonomics\n        // elsewhere (e.g. so that callers can omit the second argument instead of being forced to pass undefined).\n        new HandlerChainBuilder<RequestInfo, Response, RequestInit | undefined>(fetch)\n            .map(createDebugHandler())\n            .map(createNoCorsRetryingFetchHandler())\n            .map(createRetryingHandler())\n\n            // TODO: completely arbitrary timeout -- this should be configurable by consumers, and we should think\n            // about a sane default timeout UX... it's probably less than 10 seconds.\n            .map(createTimeoutHandler({ timeout: 10 * 1000 })).handler\n    );\n});\n"},"lineCount":null}},"error":null,"hash":"4d119f7f91b2b766841a0c0c7972b56d","cacheData":{"env":{}}}