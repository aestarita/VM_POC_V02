{"id":"node_modules/@snap/camera-kit/lib/metrics/metricsHandler.js","dependencies":[{"name":"C:\\Users\\aesta\\Documents\\GitHub\\VM_POC_V02\\node_modules\\@snap\\camera-kit\\lib\\metrics\\metricsHandler.js.map","includedInParent":true,"mtime":1689894620991},{"name":"C:\\Users\\aesta\\Documents\\GitHub\\VM_POC_V02\\package.json","includedInParent":true,"mtime":1689971043690},{"name":"C:\\Users\\aesta\\Documents\\GitHub\\VM_POC_V02\\node_modules\\@snap\\camera-kit\\package.json","includedInParent":true,"mtime":1689894620849},{"name":"../dependency-injection/Injectable","loc":{"line":1,"column":27,"index":27},"parent":"C:\\Users\\aesta\\Documents\\GitHub\\VM_POC_V02\\node_modules\\@snap\\camera-kit\\lib\\metrics\\metricsHandler.js","resolved":"C:\\Users\\aesta\\Documents\\GitHub\\VM_POC_V02\\node_modules\\@snap\\camera-kit\\lib\\dependency-injection\\Injectable.js"},{"name":"../handlers/cameraKitServiceFetchHandlerFactory","loc":{"line":2,"column":52,"index":117},"parent":"C:\\Users\\aesta\\Documents\\GitHub\\VM_POC_V02\\node_modules\\@snap\\camera-kit\\lib\\metrics\\metricsHandler.js","resolved":"C:\\Users\\aesta\\Documents\\GitHub\\VM_POC_V02\\node_modules\\@snap\\camera-kit\\lib\\handlers\\cameraKitServiceFetchHandlerFactory.js"},{"name":"../handlers/HandlerChainBuilder","loc":{"line":3,"column":36,"index":204},"parent":"C:\\Users\\aesta\\Documents\\GitHub\\VM_POC_V02\\node_modules\\@snap\\camera-kit\\lib\\metrics\\metricsHandler.js","resolved":"C:\\Users\\aesta\\Documents\\GitHub\\VM_POC_V02\\node_modules\\@snap\\camera-kit\\lib\\handlers\\HandlerChainBuilder.js"},{"name":"../handlers/rateLimitingHandler","loc":{"line":4,"column":42,"index":281},"parent":"C:\\Users\\aesta\\Documents\\GitHub\\VM_POC_V02\\node_modules\\@snap\\camera-kit\\lib\\metrics\\metricsHandler.js","resolved":"C:\\Users\\aesta\\Documents\\GitHub\\VM_POC_V02\\node_modules\\@snap\\camera-kit\\lib\\handlers\\rateLimitingHandler.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.metricsHandlerFactory = void 0;\nvar _Injectable = require(\"../dependency-injection/Injectable\");\nvar _cameraKitServiceFetchHandlerFactory = require(\"../handlers/cameraKitServiceFetchHandlerFactory\");\nvar _HandlerChainBuilder = require(\"../handlers/HandlerChainBuilder\");\nvar _rateLimitingHandler = require(\"../handlers/rateLimitingHandler\");\nconst METRIC_REQUEST_RATE_LIMIT_MS = 1000; // send at most one metric request per second.\n/**\n * @internal\n */\nconst metricsHandlerFactory = (0, _Injectable.Injectable)(\"metricsHandler\", [_cameraKitServiceFetchHandlerFactory.cameraKitServiceFetchHandlerFactory.token], fetchHandler => {\n  return new _HandlerChainBuilder.HandlerChainBuilder(fetchHandler).map((0, _rateLimitingHandler.createRateLimitingHandler)(METRIC_REQUEST_RATE_LIMIT_MS)).handler;\n});\nexports.metricsHandlerFactory = metricsHandlerFactory;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":0}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":4}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":15}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":18}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":25}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":8,"column":0}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":8,"column":4}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":8,"column":40}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":8,"column":43}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":8,"column":50}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":9,"column":0}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":9,"column":4}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":9,"column":24}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":9,"column":27}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":9,"column":34}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":10,"column":0}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":10,"column":4}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":10,"column":24}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":10,"column":27}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":10,"column":34}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":11,"column":0}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":7,"column":6},"generated":{"line":11,"column":6}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":7,"column":34},"generated":{"line":11,"column":34}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":7,"column":37},"generated":{"line":11,"column":37}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":7,"column":41},"generated":{"line":11,"column":41}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":7,"column":42},"generated":{"line":11,"column":42}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":7,"column":43},"generated":{"line":11,"column":43}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":12,"column":0}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":12,"column":7},"generated":{"line":15,"column":0}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":12,"column":13},"generated":{"line":15,"column":6}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":12,"column":34},"generated":{"line":15,"column":27}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":12,"column":37},"generated":{"line":15,"column":30}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":12,"column":37},"generated":{"line":15,"column":34}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":12,"column":47},"generated":{"line":15,"column":56}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":13,"column":4},"generated":{"line":15,"column":58}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":13,"column":20},"generated":{"line":15,"column":74}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":14,"column":4},"generated":{"line":15,"column":76}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":14,"column":5},"generated":{"line":15,"column":77}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":14,"column":40},"generated":{"line":15,"column":149}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":14,"column":41},"generated":{"line":15,"column":150}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":14,"column":46},"generated":{"line":15,"column":155}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":14,"column":56},"generated":{"line":15,"column":156}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":15,"column":5},"generated":{"line":15,"column":158}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":15,"column":31},"generated":{"line":15,"column":170}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":15,"column":35},"generated":{"line":15,"column":174}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":16,"column":8},"generated":{"line":16,"column":2}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":16,"column":15},"generated":{"line":16,"column":9}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":16,"column":19},"generated":{"line":16,"column":13}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":16,"column":38},"generated":{"line":16,"column":53}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":16,"column":39},"generated":{"line":16,"column":54}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":16,"column":51},"generated":{"line":16,"column":66}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":16,"column":52},"generated":{"line":16,"column":67}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":16,"column":53},"generated":{"line":16,"column":68}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":16,"column":56},"generated":{"line":16,"column":71}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":16,"column":57},"generated":{"line":16,"column":72}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":16,"column":57},"generated":{"line":16,"column":76}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":16,"column":82},"generated":{"line":16,"column":122}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":16,"column":83},"generated":{"line":16,"column":124}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":16,"column":111},"generated":{"line":16,"column":152}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":16,"column":112},"generated":{"line":16,"column":153}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":16,"column":113},"generated":{"line":16,"column":154}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":17,"column":13},"generated":{"line":16,"column":155}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":17,"column":20},"generated":{"line":16,"column":162}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":18,"column":4},"generated":{"line":17,"column":0}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":18,"column":5},"generated":{"line":17,"column":1}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":19,"column":1},"generated":{"line":17,"column":2}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":18,"column":0}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":18,"column":7}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":18,"column":8}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":18,"column":29}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":18,"column":32}},{"source":"../../src/metrics/metricsHandler.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":18,"column":53}}],"sources":{"../../src/metrics/metricsHandler.ts":"import { Injectable } from \"../dependency-injection/Injectable\";\nimport { FetchHandler } from \"../handlers/defaultFetchHandler\";\nimport { cameraKitServiceFetchHandlerFactory } from \"../handlers/cameraKitServiceFetchHandlerFactory\";\nimport { HandlerChainBuilder } from \"../handlers/HandlerChainBuilder\";\nimport { createRateLimitingHandler } from \"../handlers/rateLimitingHandler\";\n\nconst METRIC_REQUEST_RATE_LIMIT_MS = 1000; // send at most one metric request per second.\n\n/**\n * @internal\n */\nexport const metricsHandlerFactory = Injectable(\n    \"metricsHandler\",\n    [cameraKitServiceFetchHandlerFactory.token] as const,\n    (fetchHandler: FetchHandler) => {\n        return new HandlerChainBuilder(fetchHandler).map(createRateLimitingHandler(METRIC_REQUEST_RATE_LIMIT_MS))\n            .handler;\n    }\n);\n"},"lineCount":null}},"error":null,"hash":"4912fd654a03b1ecc8925f6c71eaddaf","cacheData":{"env":{}}}